# What are labels

Labels are key/value pairs that are attached to Kubernetes objects, such as pods (this is usually done indirectly via deployments). Labels are intended to be used to specify identifying attributes of objects that are meaningful and relevant to users. Labels can be used to organize and to select subsets of objects. [See Labels and Selectors in the Kubernetes documentation for more information](http://kubernetes.io/docs/user-guide/labels/).

The following Kubernetes labels have a defined meaning in our DFDS context:


| Label  | Description  | Example | Required |
|---|---|---|---|
| application | Name of the concrete application | iamroleservice  | yes  |
| version  |  User-defined input to CI/CD pipeline. Usually refers a docker image tag | v0.1.2  | yes  |
| release  |  Incrementing release counter. Generated by CI/CD pipeline |  r5 | yes  |
| environment  | Name of the environment the application services  | production  | yes  |
| stage  | If mutiple stages are used, this should be specified. Only values of *production* and *canary*  | production |  yes |
| owner  | Name of the team, owning the application  |  team/aesir | yes  |
| tier   | Tier this application is servicing. E.g. backend or frontend | backend | no |

## Example deployment manifest
```yaml
metadata:
  labels:
    application: iamroleservice
    version: "v0.1.2"
    release: "r5"
    environment: production
    stage: production
    owner: team_aesir
    tier: backend
```

Teams are welcome to add additional labels, as long as the above list is satisfied.

Kubernetes services will usually select only on `application` and environment `environment`:
```yaml
kind: Service
apiVersion: v1
metadata:
  name: iamroleservice
spec:
  selector:
    application: iamroleservice
    environment: production
  ports:
    - port: 80
      targetPort: 8080
      protocol: TCP
```


# Recommended labels

In addition to the list of required labels, it is recommended to add these additional labels:

| Label  | Description  | Example | Required |
|---|---|---|---|
| app.kubernetes.io/name  |   |  blaster | no  |
|  app.kubernetes.io/instance |   | blaster-production  | no  |
| app.kubernetes.io/part-of  |   | selfservice  | no  |
| app.kubernetes.io/managed-by  |   | argo | no |


https://kubernetes.io/docs/concepts/overview/working-with-objects/common-labels/


# Example application
```yaml
metadata:
  labels:
    app.kubernetes.io/name: blaster
    app.kubernetes.io/instance: blaster-production
    app.kubernetes.io/part-of: selfservice
    app.kubernetes.io/managed-by:  argo

```




## READ
https://www.replex.io/blog/9-best-practices-and-examples-for-working-with-kubernetes-labels
